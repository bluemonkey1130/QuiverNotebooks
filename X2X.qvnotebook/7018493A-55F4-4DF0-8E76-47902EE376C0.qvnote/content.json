{
  "title": "Masonry Block",
  "cells": [
    {
      "type": "code",
      "language": "html",
      "data": "<div id=\"recruitment-page\">\n    \n    <section id=\"hero\" class=\"grid-row\">\n        <div class=\"grid xxx-wide\">\n            <div class=\"titleimage\" data-custom-field-name=\"Title Image\" data-custom-field-type=\"asset\">\n                <div class=\"arrow-down\"><img src=\"/?action=asset&id=1032E9E6-4561-4E26-9371-B8FCB600D089\" onclick=\"a.top();\"></div>\n            </div>\n        </div>\n    </section>\n    \n    <div id=\"top\"></div> \n    \n    <section id=\"first-content\" class=\"grid-row gap-top-500\">\n        <div class=\"grid xx-narrow text-centre\">\n            <div data-custom-field-name=\"Paragraph 1\" data-custom-field-type=\"html\">\n            </div>\n    </section>\n    \n    <section class=\"grid-row gap-top-500\">\n        <div class=\"grid x-narrow text-centre\">\n        \t<div data-custom-field-name=\"Paragraph 2\" data-custom-field-type=\"html\">\n        </div>\n    </section>\n    \n\t<div id=\"powered-video-masonry\"></div>\n\n    <section class=\"grid-row gap-top-500\">\n        <div class=\"grid x-narrow text-centre\">\n            <p data-custom-field-name=\"Paragraph 3\" data-custom-field-type=\"html\"></p>\n        </div>\n    </section>\n    \n    <section class=\"grid-row gap-top-500\">\n        <div class=\"grid narrow text-centre\">\n            <div class=\"stack stack-large\">\n                <div data-custom-field-name=\"Paragraph 4\" data-custom-field-type=\"html\"></div>\n                <a class=\"button primary\" onclick=\"window.location='https://jobs.lever.co/x2x'\">X2X CAREERS</a>\n            </div>\n        </div>\n    </section>\n    \n    <section class=\"grid-row gap-top-500 bg-secondary-main gap-top-500\">\n        <div class=\"grid x-narrow has-one-column pad-top-500 pad-bottom-500\">\n            <div>\n                <h2 data-custom-field-name=\"Values Title\"></h2>\n            </div>\n            <div>\n                <div data-custom-field-name=\"Values Text\" data-custom-field-type=\"html\"></div>\n            </div>\n        </div>\n    </section>\n    <section id=\"team\" class=\"grid-row gap-top-500\">\n        <div class=\"grid x-narrow\">\n            <div class=\"accordion\">\n                <h2 data-custom-field-name=\"Team Title\" data-custom-field-group=\"Team\"></h2>\n                <div class=\"accordion-block\">\n                    <div class=\"trigger\">\n                        <i class=\"fa fa-minus icon-active\"></i>\n                        <i class=\"fas fa-plus icon-default\"></i>\n                        <img data-custom-field-name=\"Team Image 1\" data-custom-field-type=\"asset\" data-custom-field-group=\"Team\">\n                        <h5 data-custom-field-name=\"Team Name 1\" data-custom-field-group=\"Team\"></h3>\n                    </div>\n                    <div class=\"draw\">\n                        <p data-custom-field-name=\"Team Bio 1\" data-custom-field-group=\"Team\"></p>\n                    </div>\n                </div>\n                \n                <div class=\"accordion-block\">\n                    <div class=\"trigger\">\n                        <i class=\"fas fa-plus icon-default\"></i>\n                        <i class=\"fa fa-minus icon-active\"></i>\n                        <img data-custom-field-name=\"Team Image 2\" data-custom-field-type=\"asset\" data-custom-field-group=\"Team\">\n                        <h5 data-custom-field-name=\"Team Name 2\" data-custom-field-group=\"Team\"></h3>\n                    </div>\n                    <div class=\"draw\">\n                        <p data-custom-field-name=\"Team Bio 2\" data-custom-field-group=\"Team\"></p>\n                    </div>\n                </div>\n                \n                <div class=\"accordion-block\">\n                    <div class=\"trigger\">\n                        <i class=\"fas fa-plus icon-default\"></i>\n                        <i class=\"fa fa-minus icon-active\"></i>\n                        <img data-custom-field-name=\"Team Image 4\" data-custom-field-type=\"asset\" data-custom-field-group=\"Team\">\n                        <h5 data-custom-field-name=\"Team Name 4\" data-custom-field-group=\"Team\"></h3>\n                    </div>\n                    <div class=\"draw\">\n                        <p data-custom-field-name=\"Team Bio 4\" data-custom-field-group=\"Team\"></p>\n                    </div>\n                </div>\n                \n                <div class=\"accordion-block\">\n                    <div class=\"trigger\">\n                        <i class=\"fas fa-plus icon-default\"></i>\n                        <i class=\"fa fa-minus icon-active\"></i>\n                        <img data-custom-field-name=\"Team Image 5\" data-custom-field-type=\"asset\" data-custom-field-group=\"Team\">\n                        <h5 data-custom-field-name=\"Team Name 5\" data-custom-field-group=\"Team\"></h3>\n                    </div>\n                    <div class=\"draw\">\n                        <p data-custom-field-name=\"Team Bio 5\" data-custom-field-group=\"Team\"></p>\n                    </div>\n                </div>\n                \n                <div class=\"accordion-block\">\n                    <div class=\"trigger\">\n                        <i class=\"fas fa-plus icon-default\"></i>\n                        <i class=\"fa fa-minus icon-active\"></i>\n                        <img data-custom-field-name=\"Team Image 6\" data-custom-field-type=\"asset\" data-custom-field-group=\"Team\">\n                        <h5 data-custom-field-name=\"Team Name 6\" data-custom-field-group=\"Team\"></h3>\n                    </div>\n                    <div class=\"draw\">\n                        <p data-custom-field-name=\"Team Bio 6\" data-custom-field-group=\"Team\"></p>\n                    </div>\n                </div>\n                \n                <div class=\"accordion-block\">\n                    <div class=\"trigger\">\n                        <i class=\"fas fa-plus icon-default\"></i>\n                        <i class=\"fa fa-minus icon-active\"></i>\n                        <img data-custom-field-name=\"Team Image 8\" data-custom-field-type=\"asset\" data-custom-field-group=\"Team\">\n                        <h5 data-custom-field-name=\"Team Name 8\" data-custom-field-group=\"Team\"></h3>\n                    </div>\n                    <div class=\"draw\">\n                        <p data-custom-field-name=\"Team Bio 8\" data-custom-field-group=\"Team\"></p>\n                    </div>\n                </div>\n                \n                <div class=\"accordion-block\">\n                    <div class=\"trigger\">\n                        <i class=\"fas fa-plus icon-default\"></i>\n                        <i class=\"fa fa-minus icon-active\"></i>\n                        <img data-custom-field-name=\"Team Image 9\" data-custom-field-type=\"asset\" data-custom-field-group=\"Team\">\n                        <h5 data-custom-field-name=\"Team Name 9\" data-custom-field-group=\"Team\"></h3>\n                    </div>\n                    <div class=\"draw\">\n                        <p data-custom-field-name=\"Team Bio 9\" data-custom-field-group=\"Team\"></p>\n                    </div>\n                </div>\n                \n                <div class=\"accordion-block\">\n                    <div class=\"trigger\">\n                        <i class=\"fas fa-plus icon-default\"></i>\n                        <i class=\"fa fa-minus icon-active\"></i>\n                        <img data-custom-field-name=\"Team Image 10\" data-custom-field-type=\"asset\" data-custom-field-group=\"Team\">\n                        <h5 data-custom-field-name=\"Team Name 10\" data-custom-field-group=\"Team\"></h3>\n                    </div>\n                    <div class=\"draw\">\n                        <p data-custom-field-name=\"Team Bio 10\" data-custom-field-group=\"Team\"></p>\n                    </div>\n                </div>\n                \n                <div class=\"accordion-block\">\n                    <div class=\"trigger\">\n                        <i class=\"fas fa-plus icon-default\"></i>\n                        <i class=\"fa fa-minus icon-active\"></i>\n                        <img data-custom-field-name=\"Team Image 11\" data-custom-field-type=\"asset\" data-custom-field-group=\"Team\">\n                        <h5 data-custom-field-name=\"Team Name 11\" data-custom-field-group=\"Team\"></h3>\n                    </div>\n                    <div class=\"draw\">\n                        <p data-custom-field-name=\"Team Bio 11\" data-custom-field-group=\"Team\"></p>\n                    </div>\n                </div>\n                \n                <div class=\"accordion-block\">\n                    <div class=\"trigger\">\n                        <i class=\"fas fa-plus icon-default\"></i>\n                        <i class=\"fa fa-minus icon-active\"></i>\n                        <img data-custom-field-name=\"Team Image 12\" data-custom-field-type=\"asset\" data-custom-field-group=\"Team\">\n                        <h5 data-custom-field-name=\"Team Name 12\" data-custom-field-group=\"Team\"></h3>\n                    </div>\n                    <div class=\"draw\">\n                        <p data-custom-field-name=\"Team Bio 12\" data-custom-field-group=\"Team\"></p>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </section>\n    \n     \n    <section class=\"breaker grid-row\">\n        <div class=\"grid xxx-wide pad-top-500 pad-bottom-500\">\n        \t<img data-custom-field-name=\"Image 3\" data-custom-field-type=\"asset\" style=\"padding-top: 20px; \" class=\"pure-img\" />\n        </div>\n    </section>\n\n    <section class=\"grid-row gap-top-500\">\n        <div class=\"grid x-narrow has-one-column\">\n            <h2 data-custom-field-name=\"Promise Title\"></h2>\n            <div data-custom-field-name=\"Promise Text\" data-custom-field-type=\"html\"></div>\n        </div>\n    </section>\n    \n    <section class=\"grid-row gap-top-500\">\n        <div class=\"grid has-one-column stack stack-extra-large\">\n          \t<h2 class=\"text-centre\"> Check if thereâ€™s a position right for you</h2>\n          \t<div class=\"button-wrap center\">\n    \t        <a class=\"button primary\" onclick=\"window.location='https://jobs.lever.co/x2x'\">X2X CAREERS</button>\n    \t    </div>\n        </div>\n    </section>\n    \n</div>  \n    \n<div id=\"script-player\"></div>"
    },
    {
      "type": "code",
      "language": "html",
      "data": "<script src=\"https://unpkg.com/packery@2/dist/packery.pkgd.min.js\"></script>\n<script src=\"https://kit.fontawesome.com/aeab489b0c.js\" crossorigin=\"anonymous\"></script>\n\n<section class=\"grid-row gap-top-300\">\n    <div id=\"powered-list\" class=\"no-grid\">\n        <div class=\"grid-sizer\"></div>\n        <div class=\"gutter-sizer\"></div>\n    </div>\n</section>\n<section class=\"grid-row gap-top-300\">\n    <div class=\"no-grid\">\n        <div class=\"text-centre\">\n            <button id=\"loadMore\" class=\"button ghost bg-primary-main small\">SHOW MORE</button>\n        </div>\n    </div>\n</section>"
    },
    {
      "type": "code",
      "language": "javascript",
      "data": "let masonryApp = (() => {\n  let init = () => {\n        // Fire on ready\n        $(document).ready(function () {\n            // Starts of main chain of functions.\n            getData(); // -> createElements-> renderElements-> arrangeElements\n            // Stand alone click listener for accordions\n            accordion();\n        });\n    },\n    // Get data from asset groups & pass to createElement();\n    getData=()=>{\n        let url=\"/getassetgroupjson?guid=\";   \n        let pageOne= url + \"d7e2378c-3007-4a30-83fc-f64a8753cb87\"; \n        let pageTwo= url + \"18c3a3bc-d811-4fbd-9642-64152c8cd2aa\"; \n        // Execute a function after two Ajax requests are successful\n        $.when( $.ajax( pageOne ), $.ajax( pageTwo ) ).done(function( d1, d2 ) {\n            // d1 and d2 are arguments resolved for the pageOne and pageTwo ajax requests, respectively.\n            // Each argument is an array with the following structure: [ data, statusText, jqXHR ]\n            let data = [];\n            // Add d1[data] + d2[data] to data array\n            data.push(...d1[ 0 ],...d2[ 0 ]);\n            // Create Elements with data\n            createElements(data);\n             // Pass data to player\n            player.setAssets(data);\n        });\n    },\n    // Create blocks of HTML with data and pass to renderElements();\n    createElements=(data)=>{\n        let html=''\n        for(let i = 0 ; i < data.length; i++) {\n            let val = data[i];\n            imgSrc = \"/?action=asset&x=650&q=50&id=\"+ val.Guid;\n            html +=  '<div class=\"grid-item\" onclick=\"videoModalClick('+i+');\">'\n            +               '<div class=\"inner\" style=\"padding-bottom:' + val.ImageY / val.ImageX * 100 + '%\";>'\n            +                   '<div class=\"overlay\">'\n            +                       '<h4>'+ (val.Name == null ? \"\" : val.Name).toUpperCase() +'</h4>'\n            +                       '<button onclick=\"videoModalClick('+i+');\"class=\"button ghost small\">PLAY TRAILER</button>'\n            +                   '</div>'\n            +                   '<img class=\"nofade\" src=\"'+ imgSrc +'\"/>'\n            +               '</div>'\n            +           '</div>'\n        }\n        // Pass HTML to a new function\n        renderElements(html);  \n        // Click listener to fire video player\n        videoModalClick=(e)=>{\n            player.createPlayer(data[e]);\n        }\n    }\n    // Pass HTML blocks to on page container & call arangeElements();\n    renderElements=(html)=>{\n        // Target container\n        document.getElementById('powered-list').insertAdjacentHTML('beforeEnd', html);\n        // Target masonry items\n        let gridItem = $('.grid-item');\n        // Hide all items\n        gridItem.hide();\n        // Show first 12 items\n        gridItem.slice(0, 12).show();\n        // Start masonry arrangement\n        arrangeElements();\n    },\n    // Use Packery.js to arrange the items into a masonry style: https://packery.metafizzy.co/\n    arrangeElements = () => {\n         // Set masonry settings\n        let packeryOptions = {\n            itemSelector: '.grid-item',\n            columnWidth: '.grid-sizer',\n            gutter: '.gutter-sizer',\n            percentPosition: true,\n            horizontalOrder: true,\n        };\n        // Initialize packery\n        $('#powered-list').packery( packeryOptions );\n        // Listen to clicks on button\n        $(\"#loadMore\").on('click', function (e) {\n            e.preventDefault();\n            // Target hidden items\n            let gridItem = '.grid-item:hidden'\n            let container = '#powered-list'\n            // Show 4 more hidden items\n            $(gridItem).slice(0, 4).fadeIn();\n            // Return the element back to its pre-initialized state.\n            $(container).packery('destroy');\n            // Re-initialize\n            $(container).packery( packeryOptions );\n            // If there are no more hidden items hide the button\n            if ($(gridItem).length == 0) {\n                $(\"#loadMore\").fadeOut('slow');\n            }\n          });\n    },\n    // Control for team accordions\n    accordion=()=>{\n        $(\".draw\").hide();\n        $(\".trigger\").click(function () {\n            let $this = $(this);\n            $this.parent('.accordion-block').toggleClass('active');\n            $this.next().slideToggle( \"500\",\"linear\");\n        });\n    }\n    ;\n  init();\n  return {};\n})();"
    },
    {
      "type": "code",
      "language": "scss",
      "data": "/* CSS Overlay using pseudo elements. */\n/* Start Recruitment Masonry Template */\n#recruitment-page {\n  --heading-weight: 300;\n}\n#recruitment-page #hero .grid .titleimage {\n  height: 100vh;\n  background-image: url(\"https://images.unsplash.com/photo-1653496905315-fd11ea3ce50b?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=80&raw_url=true&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1740\");\n  background-size: cover;\n  background-position: center;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: end;\n  -webkit-align-items: end;\n      -ms-flex-align: end;\n          align-items: end;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  padding-bottom: var(--s2);\n}\n#recruitment-page #hero .grid .titleimage .arrow-down {\n  width: 55px;\n}\n#recruitment-page #first-content .grid > div h2 {\n  margin-left: auto;\n  margin-right: auto;\n}\n#recruitment-page #powered-list {\n  overflow-anchor: none;\n}\n#recruitment-page #powered-list .grid-sizer, #recruitment-page #powered-list .grid-item {\n  width: 24.2%;\n}\n@media only screen and (max-width: 767px) {\n  #recruitment-page #powered-list .grid-sizer, #recruitment-page #powered-list .grid-item {\n    width: 32.7%;\n  }\n}\n#recruitment-page #powered-list .gutter-sizer {\n  width: 1%;\n}\n#recruitment-page #powered-list .grid-item {\n  position: relative;\n}\n#recruitment-page #powered-list .grid-item .inner {\n  position: relative;\n  overflow: hidden;\n}\n#recruitment-page #powered-list .grid-item .inner .overlay {\n  z-index: 2;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  -webkit-transition: all ease-in 400ms;\n  transition: all ease-in 400ms;\n  cursor: pointer;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n#recruitment-page #powered-list .grid-item .inner .overlay h4 {\n  color: transparent;\n  -webkit-transition: color ease-in 400ms;\n  transition: color ease-in 400ms;\n  text-transform: uppercase;\n  font-weight: 400;\n  font-size: 0.8rem;\n  letter-spacing: 2px;\n  padding: 0 var(--s1);\n}\n#recruitment-page #powered-list .grid-item .inner .overlay ~ img {\n  -webkit-transition: all ease-in 400ms;\n  transition: all ease-in 400ms;\n}\n#recruitment-page #powered-list .grid-item .inner .overlay .button {\n  opacity: 0;\n  -webkit-align-self: center;\n      -ms-flex-item-align: center;\n          align-self: center;\n  margin: 0;\n  -webkit-transition: opacity ease-in 400ms;\n  transition: opacity ease-in 400ms;\n  text-align: center;\n}\n#recruitment-page #powered-list .grid-item .inner .overlay:hover {\n  -webkit-transition: background ease-in 400ms;\n  transition: background ease-in 400ms;\n  background: rgba(0, 0, 0, 0.6);\n}\n#recruitment-page #powered-list .grid-item .inner .overlay:hover h4 {\n  color: var(--light-main);\n  z-index: 4;\n}\n#recruitment-page #powered-list .grid-item .inner .overlay:hover ~ img {\n  -webkit-transition: all ease-in 400ms;\n  transition: all ease-in 400ms;\n  -webkit-transform: scale(1.05);\n      -ms-transform: scale(1.05);\n          transform: scale(1.05);\n}\n#recruitment-page #powered-list .grid-item .inner .overlay:hover .button {\n  opacity: 1;\n  -webkit-transition: opacity ease-in 400ms;\n  transition: opacity ease-in 400ms;\n}\n#recruitment-page #powered-list .grid-item .inner img {\n  -o-object-fit: cover;\n     object-fit: cover;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n#recruitment-page #powered-list .grid-item:before {\n  position: absolute;\n  z-index: 2;\n  color: red;\n  padding: var(--s1);\n  background: white;\n  bottom: 0;\n  right: 0;\n}\n#recruitment-page #team .accordion .accordion-block {\n  padding: var(--s2) 0;\n  border-bottom-width: 1px;\n  border-bottom-style: solid;\n}\n#recruitment-page #team .accordion .accordion-block:nth-last-child(1) {\n  border: none;\n}\n#recruitment-page #team .accordion .accordion-block h1, #recruitment-page #team .accordion .accordion-block h2, #recruitment-page #team .accordion .accordion-block h3, #recruitment-page #team .accordion .accordion-block h4, #recruitment-page #team .accordion .accordion-block h5 {\n  margin: 0;\n}\n#recruitment-page #team .accordion .accordion-block.active .trigger i.icon-default {\n  -webkit-transition: opacity 0.3s, -webkit-transform 0.3s;\n  transition: opacity 0.3s, -webkit-transform 0.3s;\n  transition: opacity 0.3s, transform 0.3s;\n  transition: opacity 0.3s, transform 0.3s, -webkit-transform 0.3s;\n  -webkit-transform: scale(0.5);\n      -ms-transform: scale(0.5);\n          transform: scale(0.5);\n  opacity: 0;\n}\n#recruitment-page #team .accordion .accordion-block.active .trigger i.icon-active {\n  -webkit-transform: scale(1);\n      -ms-transform: scale(1);\n          transform: scale(1);\n  opacity: 1;\n}\n#recruitment-page #team .accordion .trigger {\n  display: grid;\n  grid-template-columns: 80px 1fr auto;\n  grid-template-rows: 1fr;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  grid-gap: var(--s1);\n  margin-bottom: 0;\n  cursor: pointer;\n  text-align: left;\n}\n#recruitment-page #team .accordion .trigger i {\n  grid-column: 3;\n  grid-row: 1;\n  font-size: var(--s1);\n  padding: var(--s-1);\n  margin-top: 0;\n}\n#recruitment-page #team .accordion .draw {\n  display: grid;\n  grid-template-columns: 80px 1fr auto;\n  grid-gap: var(--s1);\n}\n@media only screen and (max-width: 575px) {\n  #recruitment-page #team .accordion .draw {\n    grid-template-columns: auto;\n    padding-top: var(--s1);\n  }\n}\n@media only screen and (max-width: 480px) {\n  #recruitment-page #team .accordion .draw {\n    margin-top: var(--s1);\n  }\n}\n#recruitment-page #team .accordion .draw * {\n  grid-column: 2;\n}\n#recruitment-page .breaker {\n  background: url(\"../img/download.jpeg\");\n  background-size: cover;\n  background-position: center center;\n}\n#recruitment-page .breaker .grid img {\n  margin: 0 auto;\n}\n\n#script-player .player {\n  color: var(--light-main);\n}\n/*# sourceMappingURL=layouts.css.map */\n"
    }
  ]
}